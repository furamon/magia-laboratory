---
description: ゲーム制作日記
date: 2024-06-05T15:00:00.000Z
draft: false
title: 2024年6月6日
---

ごきげんよう、管理人でございますわ。実はこのサイトはSLG・RPGの同士募りサイトなのですが最近開き直りましたの。女の子と女の子っていいよね。**はいストップ暴走停止**。

さて、あまりにも空っぽなこのサイトですが、ちまりちまりと制作モデルの使い道も兼ねて「RPGツクールMZ」でゲームを作っていました。\
というかモデル制作やらなんやらは全部ゲ制の伏線だったと言ってもいいです。

なのですがそのゲーム、実は基礎システムで半年くらい悩みっぱなしといういわくつきのものです。**温めすぎて腐りそう**な事態に陥っていましたが、この度ついに危機を脱しました。\
何に悩んでたって、パーティ人数が4\~5人か8人以上かです。**超基礎じゃねえか**。

というのも拙作、出発点は「マップ無しでSRPGは作れるか」を試す、というもの。\
SRPGは究極的には「タクティカルコンバット（不思議のダンジョンみたいなマス目ターン式、だったらしい）のRPGへの先祖返り」なわけですが、ならばマップがなくても時空やら用兵の概念は実装できるのではないか、と思ったのです。\
時空の概念はCTB（素早さによる個別ターン制）、用兵はジョブチェンジシステムなど。要するに「ファイナルファンタジーV」を発展させれば**SRPGにならね**？という安易すぎる考えです。

……で先程のやつに戻るわけです。こんなサイトを見ていらっしゃる方には釈迦に説法ですが、パーティ人数が何人かというのはゲームの方向性に関わります。\
ぶっちゃけてしまうと昨今JRPGはだいたい6人以上パーティなわけで、キャラゲーにしたいならそれでいいわけです。SRPGって要は究極のキャラゲーですし。

なぜ迷ってたかというと、**実はツクールMZは戦闘中交代を想定していないのです**。**いやそりゃそーなんだけどさ**。\
実のところ有志のプラグイン（機能拡張スクリプト）に戦闘中交代できるものはあるにはありますが、CTBプラグインとその交代プラグインを組み合わせ、かつターンが回ったキャラを引っ込めてしまうと**そのキャラが控え（いわゆる馬車の中）で行動しているとみなされバグり散らかす**んですよ。\
戦略的な戦闘を目指すとなると行動順が見えるのは大前提なわけです。**ターンが回ってるキャラを引っ込めないでください**なんて言うわけにもいかず。

6\~10人規模かつメンバーが全員ついてきているとしているRPGはよくあります……というか昨今作は大体そうです。ドラクエ11とか。\
ですがその形式で戦闘中に交代できないとなると前衛が全滅したら後衛が突っ立ったまま敗北扱いになるわけです。\
正直言うとこのへんは最近のJRPGでは暗黙の了解らしいです。そんな**しょっちゅう全滅**しないだろうしね。ですが、**SRPGっぽい**歯ごたえのある戦闘だとそれは困るのです。\
なのでそれなら4人パーティでいいや……と決定しだしたところ。逆転の一手は突然降ってきました。

……じゃあいっそ、**「FFX」みたくターンが回ってるキャラしか交代できなくしたらどうだ？**

実のところ、[元のCTBプラグイン](https://newrpg.seesaa.net/article/472859369.html#relate)がよくできているおかげでスクリプトで後衛だけにステートを与えれば常時ターンが回っている=交代すれば即行動可能にすることはできます。\
あとは交代したら内部でターンをリセットし、その出てきたキャラにターンを回せば**馬車内行動**は阻止できるのです。\
ですがただでさえ戦闘中交代を想定していないツクールMZ、そんな都合の良いプラグイン……**[ありました](https://forum.tkool.jp/index.php?threads/%E3%80%90%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E3%80%91%E3%83%A1%E3%83%B3%E3%83%90%E3%83%BC%E5%A4%89%E6%9B%B4%E7%94%BB%E9%9D%A2-ver-1-7-9.5286/post-38150)**。\
このプラグイン単体ではターンが回っているかどうかなんて当然判断できませんが、実は現在コマンド入力中のキャラをスクリプトで取得することはできてしまうため、ちょっといじれば目的を果たせると判断。\
そして30分ほどいじったところ、**[本当にできてしまいました](https://magiasskey.magialabs.blog/notes/9u5axajx42th0j6d)**。![](/images/32f67d06-7be5-4eee-86c8-267b4c923f0c.webp)わかりにくいですが、ターンが回っている味方のみ交代していてかつ即行動しています。ついでにここでは出せていませんが、戦闘不能のキャラも交代できます。万一ターンが回る前に前衛が全滅したらリザーブが飛び出します。\
**あっけなくバグり散らかさずに戦闘中交代が実現できました**。プラグインをもたらす神に感謝。JavaScriptでなんでもできちゃうツクールMZにも感謝。

ということで、やっとわたしのツクール人生が開幕しました。\
完成するかはわかりませんがぼちぼちやっていきたいです。たまに思い出してどうなってるかなーって見に来てくれたら幸い……！！\
よろしくおねがいします！
